<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grid. Ejercicios (I)</title>

  <!-- Tema CSS para highlight.js -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/night-owl.min.css" integrity="sha512-i5X6Fdn/ZqvGSqPrdMa3FgcpXM/Nr6YccSKFYT93zljl/HZDEpvBbE5Pxp91eiWGccZLrL/LDQJd7fjTRYsVaA==" crossorigin="anonymous" referrerpolicy="no-referrer">

  <style>
    * {
      box-sizing: border-box;
    }

    h1 {
      text-align: center;
      margin: 20px 0;
    }

    #grid-container {
      display: grid;
      visibility: hidden;
      background-color: lightgray;
      padding: 10px;
    }

    #grid-container .item {
      background-color: lightcoral;
      border: 1px solid black;
    }

    .ej1 {
      grid-template-rows: 50px 100px;
      grid-template-columns: 100px 200px auto;
    }

    .ej2 {
      grid-template-rows: auto 100px auto;
      grid-template-columns: 100px 200px auto;
    }

    .ej3 {
      grid-template-rows: 1fr;
      grid-template-columns: 1fr auto 100px;
    }

    .ej4 {
      grid-template-rows: auto;
      grid-template-columns: 1fr 2fr 100px;
    }

    .ej5 {
      grid-template-rows: 100px;
      grid-template-columns: 1fr repeat(2, 50px);
    }

    .ej6 {
      grid-template-rows: auto 1fr;
      grid-template-columns: 100px repeat(2, 1fr 50px) auto;
    }

    .ej7 {
      grid-template-rows: 200px 1fr auto;
      grid-template-columns: 100px repeat(2, 1fr 50px) auto;
    }

    .ej8 {
      grid-template-rows: auto;
      grid-template-columns: 100px repeat(2, 1fr 50px) auto;
    }

    .ej9 {
      grid-template-rows: auto;
      grid-template-columns: minmax(200px, 500px);
    }

    .ej10 {
      grid-template-rows: 2fr;
      grid-template-columns: repeat(2, minmax(200px, 500px));
    }

    .ej11 {
      grid-template-rows: 2fr 1fr;
      grid-template-columns: auto repeat(2, minmax(100px, 1fr));
    }

    .ej12 {
      grid-template-rows: 2fr 1fr;
      grid-template-columns: 100px repeat(2, minmax(auto, 200px));
    }

    .ej13 {
      grid-template-rows: auto;
      grid-template-columns: repeat(3, 33.33%);
    }

    .ej14 {
      grid-template-rows: auto;
      grid-template-columns: repeat(3, minmax(auto, 33.33%));
    }

    .ej15 {
      grid-template-rows: auto;
      grid-template-columns: repeat(3, minmax(1fr, 33.33%));
    }

    .ej16 {
      grid-template-rows: auto;
      grid-template-columns: repeat(3, minmax(min-content, 33.33%));
    }

    .ej17 {
      grid-template-rows: auto;
      grid-template-columns: repeat(3, minmax(max-content, 33.33%));
    }

    .ej18 {
      grid-template-rows: auto;
      grid-template-columns: 100px minmax(min-content, max-content);
    }

    .ej19 {
      grid-template-rows: min-content;
      grid-template-columns: 100px minmax(min-content, max-content);
    }

    .ej20 {
      grid-template-rows: max-content;
      grid-template-columns: 100px minmax(min-content, max-content);
    }

    .ej21 {
      grid-template-columns: auto min-content 1fr;
    }

    #styles-display {
      line-height: 1.5;
    }

    pre code.hljs {
      border-radius: 4px;
    }

    #radio-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 10px;
      margin: 20px 0;
    }

    #radio-container label {
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 5px;
      text-align: center;
      background-color: #f9f9f9;
      cursor: pointer;
      transition: background-color 0.3s, box-shadow 0.3s;
      white-space: nowrap;
      /* Evita que el texto se rompa en dos líneas */
    }

    #radio-container label:hover {
      background-color: #e6e6e6;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    #radio-container input[type="radio"] {
      display: none;
      /* Oculta los radiobuttons reales */
    }

    #radio-container input[type="radio"]:checked+label {
      background-color: #d1e7fd;
      border-color: #007bff;
      box-shadow: 0 2px 5px rgba(0, 123, 255, 0.2);
      font-weight: bold;
    }
  </style>

</head>

<body>

  <h1>Grid. Ejercicios (I) <span id="exercise-title"></span></h1>

  <div id="radio-container"></div>

  <div id="styles-display"></div><a href="#" id="show-link">Mostrar Grid Container</a>

  <div id="grid-container" class="ej3">
    <div class="item">1</div>
    <div class="item">2</div>
    <div class="item">3</div>
    <div class="item">4</div>
    <div class="item">5</div>
    <div class="item">6</div>
    <div class="item">7</div>
    <div class="item">8</div>
    <div class="item">9</div>
    <div class="item">10</div>
    <div class="item">11</div>
    <div class="item">12</div>
    <div class="item">13</div>
    <div class="item">14</div>
    <div class="item">15</div>
    <div class="item">16</div>
    <div class="item">17</div>
    <div class="item">18</div>
  </div>

  <!-- highlight.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/highlight.min.js" integrity="sha512-6yoqbrcLAHDWAdQmiRlHG4+m0g/CT/V9AGyxabG8j7Jk8j3r3K6due7oqpiRMZqcYe9WM2gPcaNNxnl2ux+3tA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", () => {
      const radioContainer = document.getElementById("radio-container");
      const gridContainer = document.getElementById("grid-container");
      const stylesDisplay = document.getElementById("styles-display");
      const showLink = document.getElementById("show-link");
      const exerciseTitle = document.getElementById("exercise-title");

      // Generar radio buttons dinámicamente
      for (let i = 1; i <= 21; i++) {
        const label = document.createElement("label");
        const radio = document.createElement("input");
        radio.type = "radio";
        radio.name = "ejercicio";
        radio.value = `ej${i}`;
        label.textContent = `Ej. ${i}`;
        label.prepend(radio);
        radioContainer.appendChild(label);

        // Añadir evento de clic a cada radio button
        radio.addEventListener('click', () => {
          gridContainer.style.visibility = 'hidden';
          showLink.style.display = 'block';
        });
      }

      // Obtener la hoja de estilos
      const styles = Array.from(document.styleSheets).find(sheet =>
        sheet.href === null || sheet.href.startsWith(location.origin)
      );

      console.log(styles);

      const rules = styles?.cssRules || [];

      console.log(rules);

      // Función para actualizar el contenido de styles-display
      const updateStylesDisplay = (selectedClass) => {
        stylesDisplay.innerHTML = ""; // Limpiar contenido anterior
        const matchingRule = Array.from(rules).find(rule =>
          rule.selectorText === `.${selectedClass}`
        );

        if (matchingRule) {
          const formattedRule = matchingRule.cssText
            .replace("{", " {\n  ")
            .replace(";", ";\n  ")
            .replace("}", "\n}");

          // Crear <pre> y <code> para mostrar el CSS
          const pre = document.createElement("pre");
          const code = document.createElement("code");
          code.className = "language-css";
          code.textContent = formattedRule;
          pre.appendChild(code);
          stylesDisplay.appendChild(pre);

          // Resaltar el código con Highlight.js
          hljs.highlightElement(code);
        }
      };

      // Manejar cambio en los radio buttons
      const radioButtons = document.querySelectorAll("input[name='ejercicio']");
      radioButtons.forEach(radio => {
        radio.addEventListener("change", (event) => {
          // Eliminar todas las clases del grid-container
          gridContainer.className = "";

          // Añadir la clase correspondiente al grid-container
          const selectedClass = event.target.value;
          gridContainer.classList.add(selectedClass);

          // Actualizar el contenido de styles-display
          updateStylesDisplay(selectedClass);

          // Actualizar el título del ejercicio
          exerciseTitle.textContent = event.target.nextSibling.textContent;
        });
      });

      // Seleccionar automáticamente el primer ejercicio al cargar la página
      const firstRadio = radioButtons[0];
      if (firstRadio) {
        firstRadio.checked = true; // Seleccionar el primer radiobutton
        gridContainer.classList.add(firstRadio.value); // Aplicar la clase al grid-container
        updateStylesDisplay(firstRadio.value); // Mostrar el estilo correspondiente
      }

      // Añadir evento de clic al enlace para mostrar el grid-container
      showLink.addEventListener('click', (event) => {
        event.preventDefault();
        gridContainer.style.visibility = 'visible';
        showLink.style.display = 'none';
      });
    });
  </script>

</body>

</html>