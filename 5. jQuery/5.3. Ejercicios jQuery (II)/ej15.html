<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="jquery-3.7.1.min.js"></script>
    <title>Ejercicio 15</title>
  </head>
  <body>
    <form id="car-brands-form">
      <p>Elige al menos una marca de coche:</p>
      <label><input type="checkbox" name="brand" value="Toyota" /> Toyota</label
      ><br />
      <label><input type="checkbox" name="brand" value="Ford" /> Ford</label
      ><br />
      <label><input type="checkbox" name="brand" value="Honda" /> Honda</label
      ><br />
      <label><input type="checkbox" name="brand" value="BMW" /> BMW</label
      ><br />
      <label
        ><input type="checkbox" name="brand" value="Mercedes" /> Mercedes</label
      ><br /><br />
      <button type="submit">Enviar</button>
    </form>

    <div id="error-message" style="color: red; display: none">
      Selecciona al menos una marca de coche.
    </div>
    <script>
      // Mi solución
      // $(document).ready(function () {
      //   $("#car-brands-form").submit(function (event) {
      //     if ($('input[name="brand"]:checked').length === 0) {
      //       $("#error-message").show();
      //       event.preventDefault();
      //     } else {
      //       $("#error-message").hide();
      //     }
      //   });
      // });
      // isacc solución
      $(document).ready(function () {
      $('#car-brands-form').on("submit", function (e) {
        if ($('input[name="brand"]:checked').length === 0) {
          // Si no hay ningún checkbox marcado, mostramos el mensaje de error y evitamos que se envíe el formulario
          e.preventDefault();
          if ($('#error-message').is(':visible')) {
            // Si el mensaje de error ya está visible, lo hacemos parpadear
            $('#error-message').fadeOut().fadeIn();
          }
          else {
            $('#error-message').fadeIn();
          }
        }
        else {
          $('#error-message').hide();
        }
      });
    });
    </script>
  </body>
</html>
